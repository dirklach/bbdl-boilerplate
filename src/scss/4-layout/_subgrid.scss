@use "../1-variables/" as *;
@use "../2-tools" as *;

// ==================================================================
// Utilities / Subgrid
// ==================================================================

/*

// ==================================================================
// Usage
// ==================================================================

// ------------------------------------------------------------------
// Create a subgrid (inherit grid from parent) for all breakpoints
// ------------------------------------------------------------------

<section class="section">
  <div class="container">
    <div class="c-my-component | subgrid">
      <div class="col md:4">…</div>
      <div class="col md:4">…</div>
      <div class="col md:4">…</div>
    </div>
  </div>
</section>

// ------------------------------------------------------------------
// Create a subgrid at and above md breakpoint
// ------------------------------------------------------------------

<section class="section">
  <div class="container">
    <div class="c-my-component | md:subgrid">
      <div class="col md:4">…</div>
      <div class="col md:4">…</div>
      <div class="col md:4">…</div>
    </div>
  </div>
</section>


// ------------------------------------------------------------------
// Inherit the subgrid more than once
// ------------------------------------------------------------------

<section class="section">
  <div class="container">
    <div class="c-my-component | md:subgrid">
      <div class="col md:6 md:subgrid / lg:8">
        <div class="col md:2-4 / lg:3-5">…</div>
      </div>
      <div class="col md:6">…</div>
    </div>
  </div>
</section>

*/

@mixin subgrid {
  display: grid !important;
  gap: inherit !important;
  grid-template-columns: subgrid;
  grid-column: 1 / -1;
  background: red;
}

.subgrid {
  grid-column: 1/ -1;
  @include bp(def) {
    @include subgrid;
  }
}

.sm\:subgrid {
  grid-column: 1/ -1;
  @include bp(sm) {
    @include subgrid;
  }
}

.md\:subgrid {
  grid-column: 1/ -1;
  @include bp(md) {
    @include subgrid;
  }
}

.lg\:subgrid {
  grid-column: 1/ -1;
  @include bp(lg) {
    @include subgrid;
  }
}

.xl\:subgrid {
  grid-column: 1/ -1;
  @include bp(xl) {
    @include subgrid;
  }
}

.xxl\:subgrid {
  grid-column: 1/ -1;
  @include bp(xxl) {
    @include subgrid;
  }
}

.xxl\:subgrid {
  grid-column: 1/ -1;
  @include bp(xxl) {
    @include subgrid;
  }
}
