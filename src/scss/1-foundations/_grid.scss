// ==========================================================================
// Foundations / Grid
// ==========================================================================

.grid {
  --default-gap: var(--space-m);
  --default-columns: 12;

  display: grid;
  gap: var(--default-gap);
  margin: 2rem 0;
  grid-template-columns: repeat(var(--default-columns), 1fr);

  > * {
    background: rgba(255, 255, 255, 0.1);
  }
}

.grid-item {
  grid-column: span 12;
  background: red;
  width: 100%;
}

// ==========================================================================
// Foundations / Grid Column Classes
// ========================================================================== */

@for $i from 1 through 12 {
  .--cols#{$i} {
    grid-template-columns: repeat(#{$i}, minmax(0, 1fr));
  }
}

// ==========================================================================
// Column Span Classes
// ==========================================================================

$breakpoints: (
  "sm": "480px",
  "md": "768px",
  "lg": "1024px",
  "xl": "1280px",
);

@mixin generate-responsive-span-classes($i) {
  .col-span-#{$i} {
    grid-column: span #{$i} / span #{$i};
  }

  @each $breakpoint, $size in $breakpoints {
    @media (min-width: $size) {
      .#{$breakpoint}\@col-span-#{$i} {
        grid-column: span #{$i} / span #{$i};
      }
    }
  }
}

@for $i from 1 through 12 {
  @include generate-responsive-span-classes($i);
}

.col-span-full {
  grid-column: 1 / -1;
}

// ==========================================================================
// Grid Gap Classes
// ==========================================================================

@mixin generate-gap-classes($name, $value) {
  .gap-#{$name} {
    gap: $value;
  }

  .gap-x-#{$name} {
    column-gap: $value;
  }

  .gap-y-#{$name} {
    row-gap: $value;
  }
}

$spaces: (
  "0": 0,
  "3xs": var(--space-3xs),
  "2xs": var(--space-2xs),
  "xs": var(--space-xs),
  "s": var(--space-s),
  "m": var(--space-m),
  "l": var(--space-l),
  "xl": var(--space-xl),
  "2xl": var(--space-2xl),
  "3xl": var(--space-3xl),
  "4xl": var(--space-4xl),
  "5xl": var(--space-5xl),
);

@each $name, $value in $spaces {
  @include generate-gap-classes($name, $value);
}

// ==========================================================================
// Column Start/End Utilities
// ==========================================================================

@mixin generate-start-classes($i) {
  .col-start-#{$i} {
    grid-column-start: #{$i};
  }

  @each $breakpoint, $size in $breakpoints {
    @media (min-width: $size) {
      .#{$breakpoint}\@col-start-#{$i} {
        grid-column-start: #{$i};
      }
    }
  }
}

@mixin generate-end-classes($i) {
  .col-end-#{$i} {
    grid-column-end: #{$i};
  }

  @each $breakpoint, $size in $breakpoints {
    @media (min-width: $size) {
      .#{$breakpoint}\@col-end-#{$i} {
        grid-column-end: #{$i};
      }
    }
  }
}

@for $i from 1 through 12 {
  @include generate-start-classes($i);
  @include generate-end-classes($i);
}

.col-start-13 {
  grid-column-start: 13;
}

.col-end-13 {
  grid-column-end: 13;
}
